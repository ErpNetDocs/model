<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>R29929 SalesOrder - Valid Fiscal Sales Number | ERP.net Domain Model </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="R29929 SalesOrder - Valid Fiscal Sales Number | ERP.net Domain Model ">
    
    
      <link rel="shortcut icon" href="../favicon.ico">
      <link rel="stylesheet" href="../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../styles/docfx.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="r29929-salesorder---valid-fiscal-sales-number">R29929 SalesOrder - Valid Fiscal Sales Number</h1>

<table>
<col style="width:18.8%">
<col style="width:81.2%">
<tbody>
<tr>
<td><strong>Code</strong></td>
<td>R29929</td>
</tr>
<tr>
<td><strong>Entity</strong></td>
<td><a class="xref" href="../entities/Crm.Sales.SalesOrders.html">Crm.Sales.SalesOrders Entity</a></td>
</tr>
<tr>
<td><strong>Name</strong></td>
<td>ValidFiscalSalesNumber</td>
</tr>
<tr>
<td><strong>Attribute</strong></td>
<td>FiscalSalesNumber</td>
</tr>
<tr>
<td><strong>Layer</strong></td>
<td>Back-End</td>
</tr>
<tr>
<td><strong>Events</strong></td>
<td>Commit</td>
</tr>
<tr>
<td><strong>Priority</strong></td>
<td>Late</td>
</tr>
<tr>
<td><strong>Modify</strong></td>
<td>NO</td>
</tr>
<tr>
<td><strong>Applicable
Legislations</strong></td>
<td><a href="xref:applicable-legislations">BG
(EnterpriseCompany.Company)</a></td>
</tr>
<tr>
<td><strong>Action</strong></td>
<td>Validate that:
<br><br>
If (FiscalSalesNumber != NULL)
<br><br>
, then REGEX(FiscalSalesNumber , ^.{8}-.{4}-[0-9]{7}$) = True</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><p>When a POS Sales Order is created into database, according to the Bulgarian legislation the
software must generate a unique sales number with the following format
'XXXXXXXX-ZZZZ-0000001', where:
<br><br></p>
<ul>
<li>XXXXXXXX - the 8-digit individual Fiscal Printer number assigned by the manufacturer;</li>
<li>ZZZZ - the 4-digit operator code entered the sales data according to the software
nomenclature;</li>
<li>0000001 - 7-digit individual number of the sales order, formed separately for each Fiscal
Printer.
<br><br>
Separating the elements in the unique sales number with a &quot;-&quot; sign is required.
<br><br>
The current rule reassures that if the Applicable Legislation of the document's Enterprise
Company is Bulgaria, then the format of the Fiscal Sales Number meets the requirements of the
Bulgarian legislation.</li>
</ul>
</td>
</tr>
<tr>
<td><strong>Message</strong></td>
<td>Document '{DocumentText}' contains a Fiscal Sales Number '{FiscalSalesNumber}' that does
not meet the format requirements of the Bulgarian legislation. The format of the Fiscal Sales
Number must be 'XXXXXXXX-ZZZZ-0000001', where:
<br><br>
* XXXXXXXX - 8-digit Individual Number of the POS Fiscal Printer;
<br><br>
* ZZZZ - 4-digit POS Operator code;
<br><br>
* 0000001 - 7-digit individual number of the Sales Order, formed by the active POS Fiscal
Printer's Sequence.</td>
</tr>
<tr>
<td><strong>Introduced In
Version</strong></td>
<td>2019.1</td>
</tr>
<tr>
<td><strong>Revocable</strong></td>
<td>NO</td>
</tr>
</tbody>
</table>
<p><em>* For more information about the Business Rules Documentation Template and a short explanation of each column, see
topic <a href="../templates/template-description-system-business-rules.html">System Business Rules</a>.</em></p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/ErpNetDocs/model/blob/master/business-rules/R29929.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
