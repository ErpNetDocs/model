---
erp.type: front-end-business-rule
erp.entity: Crm.Sales.SalesOrderPaymentPlans
---

# R39328 Sales Order Payment Plan - Set Amount (Recalc)
+----------------------+----------------------------------------------------------------------------------------------+
| **Code**             | 39328                                                                                        |
+----------------------+----------------------------------------------------------------------------------------------+
| **Entity**           | @Crm.Sales.SalesOrderPaymentPlans                                                            |
+----------------------+----------------------------------------------------------------------------------------------+
| **Name**             | SetAmount                                                                                    |
+----------------------+----------------------------------------------------------------------------------------------+
| **Attribute**        | [Amount](../entities/Crm.Sales.SalesOrderPaymentPlans.md#amount)                             |
+----------------------+----------------------------------------------------------------------------------------------+
| **Layer**            | Front-End                                                                                    |
+----------------------+----------------------------------------------------------------------------------------------+
| **Events**           | AttributeChanged(PaymentAmount, Amount, PaymentCurrency)                                     |
+----------------------+----------------------------------------------------------------------------------------------+
| **Priority**         | Normal                                                                                       |
+----------------------+----------------------------------------------------------------------------------------------+
| **Modify**           | YES                                                                                          |
+----------------------+----------------------------------------------------------------------------------------------+
| **Applicable         | [ALL // no condition needed](xref:applicable-legislations)                                   |
| Legislations**       |                                                                                              |
+----------------------+----------------------------------------------------------------------------------------------+
| **Action**           | IIF(((PaymentCurrency == null) OrElse (PaymentAmount == null)), Amount, SetAmount())         |
+----------------------+----------------------------------------------------------------------------------------------+
| **Description**      | The logic is as follows: If both Payment Currency and Payment Amount have a value (i.e.,     |
|                      | are not empty), and the value in the Payment Amount field is not the result of converting    |
|                      | the Amount using the value of the Payment Currency field, then Amount must be updated with   |
|                      | the converted value of the Payment Amount field, rounded to the second decimal digit, using  |
|                      | the currency defined in Document Currency. If Payment Currency or Payment Amount don't have  |
|                      | a value, or the value in the Payment Amount field is the result of converting the Amount     |
|                      | field, then the Amount field should stay what it is.                                         |
+----------------------+----------------------------------------------------------------------------------------------+
| **Message**          |                                                                                              |
+----------------------+----------------------------------------------------------------------------------------------+
| **Version**          |                                                                                              |
+----------------------+----------------------------------------------------------------------------------------------+
| **Revocable**        | YES                                                                                          |
+----------------------+----------------------------------------------------------------------------------------------+

*\* This is auto generated code. Don't change it.*
